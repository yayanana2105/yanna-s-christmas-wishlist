<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Wishlist de No√´l</title>
<style>
  :root{
    --bg: #f7f7fb;
    --card:#ffffff;
    --ink:#111827;
    --muted:#6b7280;
    --border:#e5e7eb;
    --pill:#111827;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;background:linear-gradient(#fff, var(--bg));color:var(--ink)}
  header{position:sticky;top:0;background:rgba(255,255,255,.8);backdrop-filter:blur(6px);border-bottom:1px solid var(--border)}
  .wrap{max-width:1040px;margin:0 auto;padding:16px}
  .title{display:flex;align-items:center;gap:12px}
  .title h1{font-size:20px;margin:0}
  .filters{display:grid;grid-template-columns:1fr 260px 260px;gap:12px;margin:14px 0}
  .input, .select, .range{display:flex;align-items:center;gap:8px;border:1px solid var(--border);background:var(--card);padding:10px 12px;border-radius:14px}
  .input input{border:0;outline:0;width:100%;font-size:14px;background:transparent}
  .chips{display:flex;flex-wrap:wrap;gap:8px}
  .chip{border:1px solid var(--border);background:#fff;padding:8px 12px;border-radius:999px;font-size:13px;cursor:pointer}
  .chip.active{background:var(--pill);color:#fff;border-color:var(--pill)}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:18px;overflow:hidden;display:flex;flex-direction:column}
  .card img{width:100%;height:170px;object-fit:cover;background:#eee}
  .card .body{padding:12px 14px;display:flex;flex-direction:column;gap:8px}
  .badge{position:absolute;left:10px;top:10px;background:rgba(255,255,255,.9);border:1px solid var(--border);padding:2px 8px;border-radius:999px;font-size:12px}
  .row{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:14px}
  .btn{appearance:none;border:1px solid var(--border);background:#fff;padding:8px 12px;border-radius:12px;font-size:13px;cursor:pointer}
  .btn.primary{background:#111827;color:#fff;border-color:#111827}
  .details{display:none;background:#f9fafb;border:1px solid var(--border);border-radius:12px;padding:10px 12px;font-size:14px}
  .details.open{display:block}
  .footer{margin:18px 0 28px;display:flex;flex-wrap:wrap;gap:8px;align-items:center}
  .muted{color:var(--muted);font-size:12px}
  .tot{font-weight:600}
  @media (max-width:820px){.filters{grid-template-columns:1fr}} 
  @media print{header,.footer .btn{display:none} .card{break-inside:avoid}}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="title">
      <span aria-hidden>üéÅ</span>
      <h1>Wishlist de No√´l</h1>
    </div>
    <div class="filters">
      <label class="input" title="Rechercher">
        üîé
        <input id="q" type="search" placeholder="Rechercher un article ou une boutique‚Ä¶" />
      </label>
      <div>
        <div class="muted" style="margin:0 0 6px 6px">Cat√©gories</div>
        <div id="cats" class="chips"></div>
      </div>
      <div>
        <div class="muted" style="margin:0 0 6px 6px">Prix max: <span id="maxLabel">‚àû</span> ‚Ç¨</div>
        <div class="range"><input id="max" type="range" min="0" max="999" value="0" style="width:100%"></div>
      </div>
    </div>
  </div>
</header>

<main class="wrap">
  <div id="grid" class="grid"></div>
  <div class="footer">
    <span>üõí Total des articles affich√©s: <span id="total" class="tot">0,00 ‚Ç¨</span></span>
    <button class="btn" onclick="navigator.clipboard.writeText(location.href)">Copier l‚ÄôURL</button>
    <button class="btn" onclick="window.print()">Imprimer</button>
    <span class="muted">Astuce : √©dite les donn√©es dans le script <code>ITEMS</code> ci‚Äëdessous.</span>
  </div>
</main>

<script>
/**
 * üëâ √âDITE ICI TES DONN√âES
 * - Ajoute/supprime des cat√©gories dans CATEGORIES
 * - Ajoute/√©dite tes items dans ITEMS
 */
const CATEGORIES = [
  { id: 'all', label: 'Toutes' },
  { id: 'skincare', label: 'Skincare' },
  { id: 'vetements', label: 'V√™tements' },
  { id: 'low', label: 'Low price' },
  { id: 'autres', label: 'Autres' },
];

const ITEMS = [
  { id:'s1', category:'skincare', title:"Kiehl's Ultra Facial Cream 50 ml", price:29.9, store:"Sephora / Kiehl's", url:"https://www.kiehls.fr/", image:"https://images.unsplash.com/photo-1598440947619-2c35fc9aa908?q=80&w=1200&auto=format&fit=crop", note:"Peau sensible ‚Äì √©viter parfum." },
  { id:'s2', category:'skincare', title:'CeraVe Hydrating Cleanser 236 ml', price:10.5, store:'Parapharmacie', url:'https://www.cerave.fr/', image:'https://images.unsplash.com/photo-1556228720-195a672e8a03?q=80&w=1200&auto=format&fit=crop', note:'D√©maquillage doux ‚Äì peau s√®che.' },
  { id:'v1', category:'vetements', title:'√âcharpe laine m√©rinos (vert sapin)', price:39, store:'COS / seconde main ok', url:'https://www.vinted.fr/', image:'https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=1200&auto=format&fit=crop', note:'Douce (non piquante).'},
  { id:'v2', category:'vetements', title:'Cardigan col V noir ‚Äî coupe courte', price:25, store:'Zara / Vinted', url:'https://www.zara.com/', image:'https://images.unsplash.com/photo-1520975940505-df5eb0f1268f?q=80&w=1200&auto=format&fit=crop', note:'Coton majoritaire, √©viter 100% acrylique.'},
  { id:'l1', category:'low', title:'Bougie parfum√©e (vanille/ambre)', price:8.99, store:'H&M Home', url:'https://www2.hm.com/', image:'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop', note:'Odeur douce, pas trop sucr√©e.'},
  { id:'l2', category:'low', title:'Chaussettes pilou (noir/gris) 36‚Äì38', price:4.5, store:'Decathlon / H&M', url:'https://www.decathlon.fr/', image:'https://images.unsplash.com/photo-1519222970733-f546218fa6d7?q=80&w=1200&auto=format&fit=crop', note:'Motif sobre.'},
  { id:'a1', category:'autres', title:'Livre ‚Äî ‚ÄúUne chambre √† soi‚Äù (poche)', price:7.9, store:'Librairie / Fnac', url:'https://www.fnac.com/', image:'https://images.unsplash.com/photo-1519681394009-9060f4c06ad8?q=80&w=1200&auto=format&fit=crop', note:'√âdition poche ok.'},
];

// ---- Script (pas besoin de toucher) ----
let state = { cat:'all', q:'', max:0 };

const elCats = document.getElementById('cats');
const elGrid = document.getElementById('grid');
const elQ = document.getElementById('q');
const elMax = document.getElementById('max');
const elMaxLabel = document.getElementById('maxLabel');
const elTotal = document.getElementById('total');

function fmt(n){return (n||0).toFixed(2).replace('.', ',')}

function computeMax(){
  const max = Math.ceil(Math.max(0, ...ITEMS.map(i=>i.price||0)));
  elMax.max = String(max||999);
}

function renderCats(){
  elCats.innerHTML = '';
  CATEGORIES.forEach(c=>{
    const b = document.createElement('button');
    b.className = 'chip' + (state.cat===c.id ? ' active' : '');
    b.textContent = c.label;
    b.addEventListener('click', ()=>{state.cat=c.id; renderCats(); renderList();});
    elCats.appendChild(b);
  });
}

function filtered(){
  return ITEMS.filter(i=>
    (state.cat==='all' || i.category===state.cat) &&
    (!state.q || i.title.toLowerCase().includes(state.q) || (i.store||'').toLowerCase().includes(state.q)) &&
    (!state.max || (i.price||0) <= state.max)
  );
}

function renderList(){
  const items = filtered();
  elGrid.innerHTML = '';
  let sum = 0;
  items.forEach(item=>{
    sum += (item.price||0);
    const card = document.createElement('article');
    card.className = 'card';
    const imgWrap = document.createElement('div');
    imgWrap.style.position='relative';
    const img = document.createElement('img');
    img.alt = item.title;
    img.src = item.image || '';
    const badge = document.createElement('span');
    badge.className='badge';
    badge.textContent = (CATEGORIES.find(c=>c.id===item.category)||{}).label || '';
    imgWrap.appendChild(img); imgWrap.appendChild(badge);

    const body = document.createElement('div');
    body.className = 'body';
    const h3 = document.createElement('h3'); h3.textContent = item.title; h3.style.margin='0';
    const price = document.createElement('div'); price.className='row'; price.textContent = `‚Ç¨ ${fmt(item.price)}`;
    const store = document.createElement('div'); store.className='muted'; store.textContent = item.store||'';

    const actions = document.createElement('div'); actions.style.display='flex'; actions.style.gap='8px';
    const a = document.createElement('a'); a.href=item.url; a.target='_blank'; a.rel='noreferrer'; a.className='btn primary'; a.textContent='Voir en boutique';
    const copy = document.createElement('button'); copy.className='btn'; copy.textContent='Copier le lien';
    copy.addEventListener('click',()=> navigator.clipboard.writeText(item.url||'') );

    actions.appendChild(a); actions.appendChild(copy);

    const toggle = document.createElement('button'); toggle.className='btn'; toggle.textContent='D√©tails / pr√©f√©rences';
    const details = document.createElement('div'); details.className='details'; details.innerHTML = `<p style="margin:0">${item.note||'‚Äî'}</p>`;
    toggle.addEventListener('click',()=>{ details.classList.toggle('open'); });

    body.appendChild(h3); body.appendChild(price); body.appendChild(store); body.appendChild(actions); body.appendChild(toggle); body.appendChild(details);
    card.appendChild(imgWrap); card.appendChild(body);
    elGrid.appendChild(card);
  });
  elTotal.textContent = fmt(sum) + ' ‚Ç¨';
}

// events
elQ.addEventListener('input',()=>{ state.q = elQ.value.trim().toLowerCase(); renderList(); });
elMax.addEventListener('input',()=>{ state.max = parseInt(elMax.value||'0',10) || 0; elMaxLabel.textContent = state.max || '‚àû'; renderList(); });

// init
computeMax();
renderCats();
renderList();
</script>
</body>
</html>
